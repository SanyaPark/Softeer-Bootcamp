# 1/8 회고록 <br>

### 🌅 하루 감상
원본 데이터를 저장하라는 이야기를 곱씹어보니 클래스 간 의존성과 병렬처리가 튀어나왔다.<br>
코드를 수정했더니 한 번에 연달아 ETL을 다 안 해도 E / T를 분리할 수 있었다.<br>
<br>


### 📚 What I Learned?
- 미션3을 거의 다 끝냈다.
- 판다스는 신이다. 원본 데이터 표가 멀티컬럼이라 어떻게 처리하지 싶었는데<br>
  판다스에 멀티컬럼 인덱스를 지정할수 있는 기능이 있었다.<br>
  덕분에 원본 테이블을 그대로 저장할 수 있었다.

- SQL query 공부하고 정리했다.<br>
  SQLite에서 안되는게 왜 이렇게 많은지 모르겠다.<br>
  안 되는 만큼 머리 쓸 일이 많아질 것 같아 좋은지 안좋은지...

- 개별 실행되는 프로세스는 병렬화나 비동기 처리가 가능해 지는 듯 하다.<br>
  빅데이터는 분산처리가 거의 필수로 들어가는 듯 하니 이 점을 계속 상기하며 코드를 짜야겠다.



### 💾 Keep
- 코드 짜기 전 생각하기: 무작정 짜기 보다는 전체적으로 구조를 생각하고 
- 최적화에 대한 고민. <br>
  매 번 코드를 실행할 때 마다 DB를 저장할 필요가 있을까?<br>
  최신 데이터가 이미 있다면 유효성 확인 후 보여줘야 할 부분만 실행하면 될 것 같다.<br>
- 더 생각해 볼 사항들
  앞의 과정은 결국 그 최신 혹은 과거 데이터를 보기 위함이 아닌가?<br>
  과거 데이터를 보고 싶다면... DB에서 바로 보면 상관 없는데 코드에서 본다고 하면 따로 파라미터로 받아서 체크하고 있으면 보여주면 될 것 같다.<br>

- ETL에 대한 고민<br>
  각 단계의 의존성을 낮추고 E, T가 단독으로 동작할 수 있게 해서 멀티스레드 환경이라면 각자 실행해도 충돌이 안 나겠..지?

- 

### ⚠️ Problem
- 외부의 변화에 대해 강한 코드란 뭘까...
- 뭔지는 아는데 어디까지의 변화에 강건해야 하는건가?
- 재사용성과 직결되는 주제인 만큼 가능한 요소들을 변수화 시켜 대응하고 있긴 한데... 좀 더 생각해 봐야겠다.

### 🏃‍♂️ Try
- 데이터베이스 저장 중 오류가 생기면 롤백하는 그런 기능도 넣어야겠다.
- Exception as e로 끝날 문제가 아닌 듯?
- 데이터베이스 갱신 시 과거 데이터는 따로 테이블 만들어 놓고 거기에 년도-상|하반기 로 넣어야겠다.(IMF 업데이트 시기는 4, 10월마다 업데이트다.)<br>
  이걸 깔끔하게 짜려면 애초에 디비 저장 시에 나라 이름 순으로 넣어야 한다.
- 

